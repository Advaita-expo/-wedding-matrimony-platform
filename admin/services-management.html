<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services Management - The Wedding Company Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #c41e3a;
            --secondary-color: #e8b4ba;
            --dark-color: #7a1428;
            --light-color: #faf8f8;
            --text-color: #3d3d3d;
            --accent-gold: #d4a574;
            --sidebar-width: 280px;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .dashboard {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--dark-color), var(--primary-color));
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .back-to-dashboard {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            padding: 0.5rem 0;
            margin-bottom: 1rem;
            transition: opacity 0.3s ease;
        }

        .back-to-dashboard:hover {
            opacity: 0.8;
        }

        .main-content {
            margin-left: var(--sidebar-width);
            width: calc(100% - var(--sidebar-width));
            min-height: 100vh;
        }

        .header {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: var(--dark-color);
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--dark-color);
        }

        .content {
            padding: 2rem;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .service-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
        }

        .service-header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .service-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .service-price {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .service-content {
            padding: 1.5rem;
        }

        .service-description {
            color: var(--text-color);
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .service-features {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .service-features li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .service-features i {
            color: var(--primary-color);
        }

        .service-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-edit {
            background: #4caf50;
            color: white;
            flex: 1;
        }

        .btn-delete {
            background: #f44336;
            color: white;
            flex: 1;
        }

        .service-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            display: none;
        }

        .service-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .features-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .features-input input {
            flex: 1;
        }

        .features-input button {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 3px;
            padding: 0.5rem;
            cursor: pointer;
        }

        .features-list {
            list-style: none;
            margin-top: 1rem;
        }

        .features-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f5f5f5;
            padding: 0.5rem 1rem;
            border-radius: 3px;
            margin-bottom: 0.5rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
                width: 100%;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="dashboard.html" class="back-to-dashboard">
                    <i class="fas fa-arrow-left"></i>
                    Back to Dashboard
                </a>
                <h2>Services Management</h2>
                <p>Manage wedding services</p>
            </div>
        </aside>

        <main class="main-content">
            <header class="header">
                <h1>Services Management</h1>
                <button class="btn btn-primary" id="newServiceBtn">
                    <i class="fas fa-plus"></i>
                    Add New Service
                </button>
            </header>

            <div class="content">
                <!-- Service Form -->
                <div class="service-form" id="serviceForm">
                    <h2 id="formTitle">Add New Service</h2>
                    <form id="serviceFormElement">
                        <input type="hidden" id="serviceId" value="">
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="serviceName">Service Name *</label>
                                <input type="text" id="serviceName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="servicePrice">Starting Price</label>
                                <input type="text" id="servicePrice" name="price" placeholder="Starting from $X">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="serviceIcon">Icon Class</label>
                            <select id="serviceIcon" name="icon">
                                <option value="fas fa-heart">Heart</option>
                                <option value="fas fa-ring">Ring</option>
                                <option value="fas fa-camera">Camera</option>
                                <option value="fas fa-music">Music</option>
                                <option value="fas fa-utensils">Catering</option>
                                <option value="fas fa-car">Transportation</option>
                                <option value="fas fa-seedling">Flowers</option>
                                <option value="fas fa-birthday-cake">Cake</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="serviceDescription">Description</label>
                            <textarea id="serviceDescription" name="description" rows="4" placeholder="Describe the service..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Features/Includes</label>
                            <div class="features-input">
                                <input type="text" id="featureInput" placeholder="Add a feature...">
                                <button type="button" id="addFeatureBtn">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <ul class="features-list" id="featuresList"></ul>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancelServiceBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Save Service
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Services Grid -->
                <div id="servicesList">
                    <h2>Current Services</h2>
                    <div class="services-grid">
                        <!-- Sample Services -->
                        <div class="service-card">
                            <div class="service-header">
                                <div class="service-icon">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <h3 class="service-title">Full Wedding Planning</h3>
                                <div class="service-price">Starting from $5,000</div>
                            </div>
                            <div class="service-content">
                                <p class="service-description">Complete wedding planning from start to finish with our expert team.</p>
                                <ul class="service-features">
                                    <li><i class="fas fa-check"></i> Initial consultation</li>
                                    <li><i class="fas fa-check"></i> Vendor coordination</li>
                                    <li><i class="fas fa-check"></i> Timeline management</li>
                                    <li><i class="fas fa-check"></i> Day-of coordination</li>
                                </ul>
                                <div class="service-actions">
                                    <button class="btn btn-edit edit-service" data-id="1">
                                        <i class="fas fa-edit"></i> Edit
                                    </button>
                                    <button class="btn btn-delete delete-service" data-id="1">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <div class="service-icon">
                                    <i class="fas fa-camera"></i>
                                </div>
                                <h3 class="service-title">Photography & Videography</h3>
                                <div class="service-price">Starting from $2,500</div>
                            </div>
                            <div class="service-content">
                                <p class="service-description">Professional wedding photography and videography services.</p>
                                <ul class="service-features">
                                    <li><i class="fas fa-check"></i> Engagement shoot</li>
                                    <li><i class="fas fa-check"></i> Wedding day coverage</li>
                                    <li><i class="fas fa-check"></i> Edited photos & videos</li>
                                    <li><i class="fas fa-check"></i> Online gallery</li>
                                </ul>
                                <div class="service-actions">
                                    <button class="btn btn-edit edit-service" data-id="2">
                                        <i class="fas fa-edit"></i> Edit
                                    </button>
                                    <button class="btn btn-delete delete-service" data-id="2">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <div class="service-icon">
                                    <i class="fas fa-seedling"></i>
                                </div>
                                <h3 class="service-title">Floral Design</h3>
                                <div class="service-price">Starting from $800</div>
                            </div>
                            <div class="service-content">
                                <p class="service-description">Beautiful floral arrangements for your special day.</p>
                                <ul class="service-features">
                                    <li><i class="fas fa-check"></i> Bridal bouquet</li>
                                    <li><i class="fas fa-check"></i> Ceremony decorations</li>
                                    <li><i class="fas fa-check"></i> Reception centerpieces</li>
                                    <li><i class="fas fa-check"></i> Boutonni√®res</li>
                                </ul>
                                <div class="service-actions">
                                    <button class="btn btn-edit edit-service" data-id="3">
                                        <i class="fas fa-edit"></i> Edit
                                    </button>
                                    <button class="btn btn-delete delete-service" data-id="3">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Check authentication
        if (localStorage.getItem('adminLoggedIn') !== 'true') {
            window.location.href = 'login.html';
        }

        // Form elements
        const serviceForm = document.getElementById('serviceForm');
        const servicesList = document.getElementById('servicesList');
        const newServiceBtn = document.getElementById('newServiceBtn');
        const cancelServiceBtn = document.getElementById('cancelServiceBtn');
        const serviceFormElement = document.getElementById('serviceFormElement');
        const formTitle = document.getElementById('formTitle');
        
        let currentFeatures = [];

        // Show/hide form
        newServiceBtn.addEventListener('click', () => {
            showForm();
        });

        cancelServiceBtn.addEventListener('click', () => {
            hideForm();
        });

        function showForm(isEdit = false) {
            serviceForm.classList.add('active');
            servicesList.style.display = 'none';
            
            if (!isEdit) {
                formTitle.textContent = 'Add New Service';
                serviceFormElement.reset();
                currentFeatures = [];
                updateFeaturesList();
                document.getElementById('serviceId').value = '';
            }
        }

        function hideForm() {
            serviceForm.classList.remove('active');
            servicesList.style.display = 'block';
        }

        // Features management
        const featureInput = document.getElementById('featureInput');
        const addFeatureBtn = document.getElementById('addFeatureBtn');
        const featuresList = document.getElementById('featuresList');

        addFeatureBtn.addEventListener('click', addFeature);
        featureInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                addFeature();
            }
        });

        function addFeature() {
            const feature = featureInput.value.trim();
            if (feature && !currentFeatures.includes(feature)) {
                currentFeatures.push(feature);
                featureInput.value = '';
                updateFeaturesList();
            }
        }

        function removeFeature(index) {
            currentFeatures.splice(index, 1);
            updateFeaturesList();
        }

        function updateFeaturesList() {
            featuresList.innerHTML = '';
            currentFeatures.forEach((feature, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${feature}</span>
                    <button type="button" onclick="removeFeature(${index})" style="background: #f44336; color: white; border: none; border-radius: 3px; padding: 2px 6px; cursor: pointer;">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                featuresList.appendChild(li);
            });
        }

        // Make removeFeature globally accessible
        window.removeFeature = removeFeature;

        // Form submission
        serviceFormElement.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const formData = new FormData(serviceFormElement);
            formData.append('features', JSON.stringify(currentFeatures));
            
            const serviceId = document.getElementById('serviceId').value;
            const isEdit = serviceId !== '';
            
            // Simulate saving to backend
            console.log('Saving service:', Object.fromEntries(formData));
            
            alert(isEdit ? 'Service updated successfully!' : 'Service created successfully!');
            hideForm();
        });

        // Edit and delete functionality
        document.addEventListener('click', (e) => {
            if (e.target.closest('.edit-service')) {
                const serviceId = e.target.closest('.edit-service').dataset.id;
                editService(serviceId);
            }
            
            if (e.target.closest('.delete-service')) {
                const serviceId = e.target.closest('.delete-service').dataset.id;
                deleteService(serviceId);
            }
        });

        function editService(id) {
            showForm(true);
            formTitle.textContent = 'Edit Service';
            document.getElementById('serviceId').value = id;
            
            // Populate form with existing data (simulated)
            if (id === '1') {
                document.getElementById('serviceName').value = 'Full Wedding Planning';
                document.getElementById('servicePrice').value = 'Starting from $5,000';
                document.getElementById('serviceIcon').value = 'fas fa-heart';
                document.getElementById('serviceDescription').value = 'Complete wedding planning from start to finish with our expert team.';
                currentFeatures = ['Initial consultation', 'Vendor coordination', 'Timeline management', 'Day-of coordination'];
                updateFeaturesList();
            }
        }

        function deleteService(id) {
            if (confirm('Are you sure you want to delete this service?')) {
                // In a real application, send delete request to backend
                const serviceCard = document.querySelector(`[data-id="${id}"]`).closest('.service-card');
                serviceCard.remove();
                alert('Service deleted successfully!');
            }
        }
    </script>
</body>
</html>